{"version":3,"sources":["models/Board.js","models/Game.js","Table.js","App.js","index.js"],"names":["transpose","board","result","row","length","column","moveNumbersToLeft","column1","moveNumbersToRight","Board","Object","classCallCheck","this","limit","positionsOfEmptyPlaces","push","getPositionsOfEmptyPlaces","getBoard","place","Math","round","random","map","slice","addNumbersTowardsLeft","leftMove","addNumbersTowardsRight","rightMove","Game","performInitialMoves","placeNumber","downMove","upMove","Data","props","element","react_default","a","createElement","className","Row","Table_Data","Body","Table_Row","Table","id","Table_Body","Component","App","_this","possibleConstructorReturn","getPrototypeOf","call","game","startGame","state","event","_this2","code","setState","document","querySelector","onkeydown","move","bind","src_Table","React","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.4dc8e8da.chunk.js","sourcesContent":["const getRandomInteger = function(limit) {\n  return Math.round(Math.random() * limit);\n};\n\nconst getPositionsOfEmptyPlaces = function(board) {\n  const positionsOfEmptyPlaces = [];\n  for (let row in board) {\n    for (let column in board[row]) {\n      if (board[row][column] === 0) {\n        positionsOfEmptyPlaces.push([row, column]);\n      }\n    }\n  }\n\n  return positionsOfEmptyPlaces;\n};\n\nconst transpose = function(board) {\n  const result = [[], [], [], []];\n  for (let row = 0; row < board.length; row++) {\n    for (let column = 0; column < board.length; column++) {\n      result[column][row] = board[row][column];\n    }\n  }\n  return result;\n};\n\nconst moveNumbersToLeft = function(board) {\n  for (let row = 0; row < board.length; row++) {\n    for (let column = 1; column < board.length; column++) {\n      for (let column1 = column; column1 > 0; column1--) {\n        if (board[row][column1 - 1] === 0) {\n          board[row][column1 - 1] = board[row][column1];\n          board[row][column1] = 0;\n        }\n      }\n    }\n  }\n\n  return board;\n};\n\nconst moveNumbersToRight = function(board) {\n  for (let row = 0; row < board.length; row++) {\n    for (let column = 2; column >= 0; column--) {\n      for (let column1 = column; column1 < board.length - 1; column1++) {\n        if (board[row][column1 + 1] === 0) {\n          board[row][column1 + 1] = board[row][column1];\n          board[row][column1] = 0;\n        }\n      }\n    }\n  }\n\n  return board;\n};\n\nconst addNumbersTowardsLeft = function(board) {\n  for (let row = 0; row < board.length; row++) {\n    for (let column = 1; column < board.length; column++) {\n      if (board[row][column - 1] === board[row][column]) {\n        board[row][column - 1] += board[row][column];\n        board[row][column] = 0;\n      }\n    }\n  }\n\n  return board;\n};\n\nconst addNumbersTowardsRight = function(board) {\n  for (let row = 0; row < board.length; row++) {\n    for (let column = 2; column >= 0; column--) {\n      if (board[row][column + 1] === board[row][column]) {\n        board[row][column + 1] += board[row][column];\n        board[row][column] = 0;\n      }\n    }\n  }\n\n  return board;\n};\n\nclass Board {\n  constructor() {\n    this.board = [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]];\n  }\n\n  placeNumber() {\n    const positionsOfEmptyPlaces = getPositionsOfEmptyPlaces(this.getBoard());\n    const index = getRandomInteger(positionsOfEmptyPlaces.length - 1);\n    const place = positionsOfEmptyPlaces[index];\n    this.board[place[0]][place[1]] = 2;\n  }\n\n  getBoard() {\n    return this.board.map(row => row.slice());\n  }\n\n  leftMove() {\n    this.board = moveNumbersToLeft(this.getBoard());\n    this.board = addNumbersTowardsLeft(this.getBoard());\n    this.board = moveNumbersToLeft(this.getBoard());\n  }\n\n  upMove() {\n    this.board = transpose(this.getBoard());\n    this.leftMove();\n    this.board = transpose(this.getBoard());\n  }\n\n  rightMove() {\n    this.board = moveNumbersToRight(this.getBoard());\n    this.board = addNumbersTowardsRight(this.getBoard());\n    this.board = moveNumbersToRight(this.getBoard());\n  }\n\n  downMove() {\n    this.board = transpose(this.getBoard());\n    this.rightMove();\n    this.board = transpose(this.getBoard());\n  }\n}\n\nexport default Board;\n","import Board from './Board';\n\nclass Game {\n  constructor() {\n    this.board = new Board();\n  }\n\n  startGame() {\n    this.performInitialMoves();\n  }\n\n  performInitialMoves() {\n    this.board.placeNumber();\n    this.board.placeNumber();\n  }\n\n  downMove() {\n    this.board.downMove();\n    this.board.placeNumber();\n  }\n\n  upMove() {\n    this.board.upMove();\n    this.board.placeNumber();\n  }\n\n  rightMove() {\n    this.board.rightMove();\n    this.board.placeNumber();\n  }\n\n  leftMove() {\n    this.board.leftMove();\n    this.board.placeNumber();\n  }\n\n  getBoard() {\n    return this.board.getBoard();\n  }\n}\n\nexport default Game;","import React, { Component } from 'react';\nimport './main.css';\n\nconst Data = function(props) {\n  const { element } = props;\n  return <td className={'color-' + element}>{element}</td>;\n};\n\nconst Row = function(props) {\n  const {row} = props;\n  return (\n    <tr>\n      {row.map(element => (\n        <Data element={element} />\n      ))}\n    </tr>\n  );\n};\n\nconst Body = function(props) {\n  const {board} = props;\n  return (\n    <tbody>\n      {board.map(row => (\n        <Row row={row} />\n      ))}\n    </tbody>\n  );\n};\n\nclass Table extends Component {\n  render() {\n    return (\n      <table className=\"board\" id=\"board\">\n        <Body board={this.props.board} />\n      </table>\n    );\n  }\n}\n\nexport default Table;\n","import React from 'react';\nimport Game from './models/Game';\nimport './main.css';\nimport Table from './Table';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    const game = new Game();\n    game.startGame();\n    this.state = { game, board: game.getBoard() };\n  }\n\n  move(event) {\n    const {game} = this.state;\n    if (event.code === 'ArrowLeft') {\n      game.leftMove();\n    }\n\n    if (event.code === 'ArrowUp') {\n      game.upMove();\n    }\n\n    if (event.code === 'ArrowRight') {\n      game.rightMove();\n    }\n\n    if (event.code === 'ArrowDown') {\n      game.downMove();\n    }\n\n    this.setState(() => ({\n      board: this.state.game.getBoard()\n    }));\n  }\n\n  componentDidMount() {\n    const body = document.querySelector('body');\n    body.onkeydown = this.move.bind(this);\n  }\n\n  render() {\n    return <Table board={this.state.board} />;\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './main.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}